<html><head><title>Raw Parameters</title><link rel="stylesheet" type="text/css" href="rawprocdoc.css"></head><body><h3>Raw Parameters</h3>
<p>Use these parameters to tell LibRaw how to process the input raw image. In the input.raw.parameters configuration parameter, build a string of the ones you want to use, separated by semicolons, e.g., "gamma=prophoto;demosaic=prophoto".</p> 
<p>Alternatively (preferred), each libraw dcraw parameter can be specified in individual input.raw.libraw.* parameters, where "*" is the parameter name. You can add a input.raw.libraw parameter to the properties and not specifiy a value; if you do that, it won't be included in the constructed parameter list. This lets you enter placeholder parameters to use when needed. </p>
<p>Each of the LibRaw imgdata.params struct fields has a corresponding raw parameter, and there are selected parameters that have more intuitive abstractions. </p>
<p>in an img command line, you can specify any of these as a parameter to the raw image file name, e.g.,
<pre>
	img DSC_0001.NEF:cameraprofile=NikonD850.icc,demosaic=ahd,gamma=linear ...
</pre>
<p>Each parameter with a dcraw switch is annotated thusly: 'dcraw: -x'. </p>

<hr><ul>
<li><b>Demosaic:</b><ul><li>user_qual=0|1|2|3|4 - Demosaic algorithm, dcraw: -q [0-4].  Default=3 (ahd)</li><li>demosaic=linear|vng|ppg|ahd|dcb - Alias of user_qual, with mnemonic values. Default=ahd</li></ul></li><li><b>Exposure Compensation:</b><ul><li>exp_correc=0|1 - Turns on exposure correction before demosaic</li><li>exp_shift=1.0 - From 0.25 (2 stops darken) to 8.0 (3 stops lighten), default 1.0=no shift</li><li>exp_preser=0.0 to 1.0 - Preserve hightlights when lightening the image</li></ul></li><li><b>FBDD Denoise:</b><ul><li>fbdd_noiserd=n - FBDD noise reduction, before demosaic<li>fbdd_denoise - alias for fbdd_noiserd</li></ul></li><li><b>Gamma</b>:  three ways to set it:<ol><li>gamma=preset, where preset=bt709|srgb|linear|prophoto.  In slope/toe, bt709 is 2.2/4.5, srgb is 2.4/4.5, prophoto is 1.8/0, and linear is 1.0/1.0</li><li>gammaval=2.222;gammatoe=4.5, where the slope and toe are specified in val and toe, respectively. Libraw alias.</li><li>gamm=2.222,4.5, where slope and toe are specified with a comma delimiter. dcraw: -g &lt;p ts&gt;</li></ol></li><li><b>Output Colorspace</b>:<ul><li>output_color=0|1|2|3|4|5 - Output color space, dcraw: -o [0-6].  Default=1 (srgb)</li><li>colorspace=raw|srgb|adobe|wide|prophoto|xyz - Alias of output_color, with mnemonic values. default=srgb</li></ul></li><li><b>Wavelet Denoise:</b><ul><li>threshold=100-1000 - wavelet denoising threshold. dcraw: -n &lt;num&gt;</li><li>wavelet_denoise - alias for threshold</li></ul>From the dcraw manpage: "Use wavelets to erase noise while preserving real detail. The best threshold should be somewhere between 100 and 1000."</li><li><b>aber</b>=rmult,gmult - chromatic aberration correction. dcraw: -C &lt;r b&gt;</li><li><b>adjust_maximum_thr</b>=0.01 - portion of clipped pixel with autobright</li><li><b>auto_bright_thr</b>=0.01 - portion of clipped pixel with autobright.</li><li><b>autobright</b>=0|1 -  - Use dcraw automatic brightness (note the difference from libraw's no_auto_bright). Default=0, don't brighten image.  This is a scaling operation, expands the image histogram to the black/white limits. dcraw: the opposite of -W</li><li><b>bad_pixels</b>=filepath - use bad pixel map. dcraw: -P &lt;file&gt;</li><li><b>bright</b>=1.0 - brighten image. Default=1.0, no brighten.  dcraw: -b &lt;num&gt;</li><li><b>camera_profile</b>=filepath|embed - use ICC profile from the file. dcraw: -p &lt;file&gt; Note: use cameraprofile instead.</li><li><b>cameraprofile</b>=iccfile|adobe_coeff - If (and only if) colorspace=raw, this parameter assigns the camera profile to the image.  Unlike input.raw.cms.profile in rawproc, this parameter will provide a record of its application in the command string, so it is the preferred method for assigning camera profiles.  If the parameter is present but blank in Properties, it will be ignored.  Trick: Instead of a filename, paste a comma-delimited set of dcraw-style (adobe_coeff) primaries here and a linear gamma D65 whitepoint profile will be built and assigned to the raw image.</li><li><b>cropbox</b>=x,y,w,h - coordinates of a rectangle used for crop. </li><li><b>dark_frame</b>=filepath - use dark frame map, 16-bit PGM format. dcraw: -K &lt;file&gt;</li><li><b>dcb_enhance_fl</b>=n - DCB interpolation with enhanced interpolated colors.</li><li><b>dcb_iterations</b>=n - number of DCB correction passes, -1 is no correction, and is also the default.</li><li><b>four_color_rgb</b>=0|1 - separate interpolations for the two green components. dcraw: -f</li><li><b>green_matching</b>=0|1 - fix green channel disbalance</li><li><b>greybox</b>=x,y,w,h - coordinates of a rectangle used for white balance. dcraw: -A &lt;x y w h&gt;</li><li><b>half_size</b>=0|1 - demosaic with the 'half' algorithm, which just produces a single pixel from each quad. dcraw: -h</li><li><b>highlight</b>=0|1|2|3+ - deal with image highlights, clip=0, 1=unclip, 2=blend, 3+=rebuild. dcraw: -H [0-9]</li><li><b>med_passes</b>=n - number of median filter passes. dcraw: -m &lt;num&gt;</li><li><b>no_auto_scale</b>=0|1 - Disables pixel scaling, dcraw: -D.  Default=0. Note: Behavior is not the same as dcraw; image is 3-color.</li><li><b>no_interpolation</b>=0|1 - Disables demosaic. dcraw: -d  Default=0. Note: Behavior is not the same as dcraw; image is 3-color.  Use input.raw.libraw.rawdata=1 for unprocessed raw array.</li><li><b>output_bps</b>=8|16 - bits per sample, dcraw: -4 (16-bit).  Default=16</li><li><b>output_profile</b>=filepath - use ICC profile from the file. dcraw: -o &lt;file&gt;</li><li><b>output_tiff</b>=0|1 - 0=output PPM, 1=output TIFF. Default=0.  dcraw: -T.  gImage actually doesn't do anything with this parameter.</li><li><b>rawdata</b>=0|1|crop - Preempts all other parameters, if 1 loads unprocessed raw data as a one-color grayscale array of the individual R, G, and B measurements; well, subject to camera shenanigans. If crop, also crop the array to the visible image.  Default=0 (empty property value is the same as 0).</li><li><b>use_auto_wb</b>=0|1 - use auto white balance, averaging over entire image. dcraw: -a</li><li><b>use_camera_matrix</b>=0|1 - use camera color matrix. dcraw: +M/-M.  From the libraw docs:<ul><li>0: do not use embedded color profile<li>1 (default): use embedded color profile (if present) for DNG files (always); for other files only if use_camera_wb is set;<li>3: use embedded color data (if present) regardless of white balance setting.</ul></li><li><b>use_camera_wb</b>=0|1 - use camera white balance, if available. dcraw: -w.  Note: If no white balance option is specified, this is the default.  Further, you need to set it to 0 to use any of the others.</li><li><b>use_fuji_rotate</b>=0|1 - rotation for cameras with Fuji sensor. dcraw: -j</li><li><b>user_black</b>=n - User black level. dcraw: -k &lt;num&gt;</li><li><b>user_cblack</b>=rb,gb,bb,gb - user per-channel black levels, r,g,b,g</li><li><b>user_mul</b>=mul0,mul1,mul2,mul3 - user white balance multipliers, r,g,b,g. dcraw: -r &lt;r g b g&gt;</li><li><b>user_sat</b>=n - saturation. dcraw: -S &lt;num&gt;</li><li><b>whitebalance</b>=none|auto|camera|n,n,n,n - whitebalance overrides all other dcraw/libraw white balance parameters, provides a more intuitive way to specify white balance.  Default=camera (no value also equals 'camera').</li></ul></body></html>
